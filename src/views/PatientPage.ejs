<!DOCTYPE html>
<html>
<head>
  <title>Patient Page</title>
</head>


<body>
  <h1>Search for a medicine using name</h1>
  <form method="get"  action="/Patient/getMedicine">
    Name: <br>
      <input type="text" name="Name"> <br>
    <button type="submit">Submit</button><br><br>  </form>
</body>

<body>
  <h1>Filter Medicine</h1>

  <form method="get" action="/Patient/filterMedical">
    <input type="text" name="MedicalUse" placeholder="MedicalUse">
    <button type="submit">Submit</button>
  </form>
  <h2>GET ALL MEDICINES INFOO<h2>
    <button type="submit" onclick="getAllMedicines()"> Get All</button>
    <div id="medicine_list"></div>
  <script>
    //getAllMedicines()
    async function getAllMedicines() {
              try {
                // PICTURE , PRICE , DESCRIPTION
  
                  // Remove the colon from the URL placeholder
                  var response = await fetch(`http://localhost:8000/Admin/getAllMedicine/`);
                  var res = await response.json();
  
  
                  if (!res.success)
                      return alert(res.message);
  
                  var list = res.Result
                  //console.log(list)
                  var cartoona = ''
                 for (let i = 0; i < list.length; i++) {
                  
                  if(!list[i].Picture)
                    continue

                    
                    console.log(list[i]);
                      cartoona += `
                      <ul>
                        <li><strong>Pic:</strong>
                          <img src= "/Pharma/get-image/${list[i]?._id}">
                  </li>
                  <li>Name: ${list[i].Name}
                  </li>
                  <li><strong>Price:</strong>
                      ${list[i].Price}
                  </li>
                  <li><strong>Quantity:</strong>
                      ${list[i].Quantity}
                  </li>
                  <li><strong>Sales:</strong>
                      ${list[i].Sales}
                  </li>
                  <li><strong>Active Ingredients:</strong>
                      ${list[i].ActiveIngredients}
                  </li>
                  <li><strong>Medical Use:</strong>
                      ${list[i].MedicalUse}
                  </li>
          </ul>`
                  }
  
                  var element = document.getElementById('medicine_list')
                  element.innerHTML = cartoona

             // }
                }
              catch (error) {
                  console.error('Error fetching patient data:', error);
              }
          }

  
    </script>
</body>
</html>